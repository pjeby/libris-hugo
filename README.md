# Libris Hugo

A port of the [Stackbit Libris](https://github.com/stackbithq/stackbit-theme-libris) theme for use with Hugo.  [Live Demo](https://pjeby.github.io/libris-hugo/)

[![](images/screenshot.png)](https://pjeby.github.io/libris-hugo/)

Note: I am still refactoring things to be more Hugo-friendly, so things may change a lot.  If you update your local copy of this theme to a new version, *you should expect things to break*.  The theme is currently quite functional (even more so than the original in some aspects), but I expect to still be refactoring various things in the future, like:

* improved page components system and DRY rendering thereof
* archetypes
* better separation between the theme and the example site (some site stuff may still be in the theme)

And any or all of these changes might be backward-incompatible with the effective "API" of a previous release.

## Creating Documentation Areas or "Books"

A site can have one or more "books" of documentation, each with its own customized navigation pane.  To create such an area, add the following front matter field to the `_index.md` of a `contents` subdirectory you want to make into such an area (e.g. `contents/docs/`):

```yaml
---
cascade:
  # Default to the 'book' content type for everything under this directory
  type: book

  # Path to the top-level page or section to be displayed on the nav pane; if omitted,
  # it defaults to this area's top-level section (e.g. /docs, /guide, /tutorial etc.)
  book: /docs

  # Paths to the pages or sections to be displayed as chapters in the nav pane
  # Paths are interpreted relative to 'book'; you can use absolute paths to bring
  # in sections or pages from elsewhere in the site.
  chapters:
    - getting-started
    - guides
    - faq
---
```

Once this is done, any pages or subsections created under the directory where this file is located will automatically use the `book` type's page layout and have a navigation pane with the listed entries.  Each `chapters` item can be a page or section; if it's a section, its immediate child pages will be listed in the nav pane as a collasped submenu, ordered by weight.  You can also add something like this to chapters whose submenus you want to customize:

```yaml
---
# Adding 'chapter-contents' to a page or section listed in 'chapters' lets you set what pages
# will be listed as child items in the nav bar; if you don't set it, all child pages
# are listed, ordered by weight.  Relative paths are looked up relative to this page
chapter-contents:
  - first-page
  - second-page
---
```

This is usually a lot easier than fiddling with weights across multiple files, especially in a large project: just go to the "parent" page and add a `chapter-contents` list.  (You can also do this to add literally any pages you like to the menu.)

Documentation books can also include an overview page using the `overview` layout: these don't have a navbar, but instead display the current book's chapters as article-preview cards, using their explicit `summary` fields or summaries autogenerated by Hugo.  (All pages or sections referenced by `chapters` and `chapter-contents` must also have a `title` in order to be displayed properly on the navbar or on overview pages.)

(Notice, by the way, that a page does not need to be *inside* a book to use the overview layout: it just requires the page be of type `book`, and that it have a `chapters` property set on the page or cascaded from a parent.  Likewise, pages or sections listed in `chapters` or `chapter-contents` do not have to be of type `book`, and can be any page or section of the site: they just won't have the same nav pane, or perhaps any nav pane at all.)

### Example

Here is an example folder structure for a single documentation area, `/welcome`:

```
.
├── content
│   ├── welcome
│   │   ├── _index.md            [documentation root page, "Welcome To Libris"]
│   │   ├── getting-started
│   │   │   ├── _index.md        [section parent page]
│   │   │   ├── installation.md  [section child page]
│   │   │   └── quick-start.md   [section child page]
│   │   ├── guides
│   │   │   ├── _index.md        [section parent page]
│   │   │   ├── features.md      [section child page]
│   │   │   └── overview.md      [section child page]
│   │   └── faq
│   │   │   └── _index.md        [section parent page]
│   │   └── ...
│   └── ...
└── ...
```

`content/welcome/_index.md`:

```yaml
---
title "Welcome To Libris"

cascade:
  layout: docs
  book: /welcome
  chapters:
    - getting-started
    - guides
    - faq
---
```

`content/docs/guides/_index.md`:

```yaml
---
title: Guides
chapter-contents: [ overview, features ]   # explicit order for sub-pages
---
```



![Navigation Example](images/libris-navigation-example.png "Navigation Example")



### Callouts

To add a callout to your documentation, simply use the following html markup:

```html
<div class="important">
  <strong>Important:</strong> 
  This is the "Important" callout block of text. It indicates a warning or caution.
  Use it for an important message. 
</div>
```

```html
<div class="note">
  <strong>Note:</strong> 
  This is the "Note" callout block of text. It signifies a general note.
</div>
```

### Syntax Highlighting

To enable syntax highlighting in your code blocks, add a language identifier. For example, to syntax highlight JavaScript code, specify `javascript` next to the tick marks before the fenced code block:

~~~md
```javascript
if (condition) {
  code to run if condition is true
} else {
  run some other code instead
}
```
~~~

The theme's highlighting uses Prism.js, with a plugin to provide a "Copy" button people can use to copy code samples.

**Important:** you must disable Hugo's built-in syntax highlighting for this theme's highlighting to work properly.  Use:

```yaml
markup:
  highlight:
    codeFences: false
```

in your config to keep Hugo from doing its own syntax highlighting.

You can add support for more languages or add other Prism plugins using the [Prism Download Tool](https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript&plugins=toolbar+copy-to-clipboard).  Save the generated Javascript as `static/assets/js/prism.js` under your project's main folder, and the theme CSS as `assets/sass/imports/_prism.scss`.  Your site will then use these files in place of the theme defaults.

## Editing the Homepage

The homepage content uses `content/_index.md`. You can edit all of the homepage sections by editing this file's front matter.

## Main Navigation

The items of the main menu located at the top can be defined either inside the page front matter or inside the `config.yml` file.

To add a page menu item, you should define the `menu` parametter in the front matter of the page. For instance:

```yaml
---
title: Welcome to Libris
menu:
  main:
    weight: 2
    name: Docs
---
```

To add a global menu item, you should define it inside the root `menu` field inside `config.yml`. For instance:

```yaml
menu:
  main:
    - identifier: github
      name: GitHub
      url: "https://github.com/"
      weight: 6
```

## Layouts and Content Types

Currently this theme has three content types: `book` (for documentation) and `blog` (for blog sections and posts), and `_default` (for everything else).  They have layouts as follows:

#### Default Content Type

* `single` -- Automatically used for pages without any specified type or layout
* `home` -- Automatically used for the home page, and available to be used by custom landing pages.  Pages using this layout must have a `blocks` parameter in front matter specifying the different sections to be included.  Block types include:
  * `hero` - display a title block with optional subtitle and call-to-action buttons
  * `cards` -- display a grid of cards with titles, summaries, and/or images
  * `content` -- display title, text, CTA buttons, and optional image, as one or two columns
  * `cta` - full-width, dark-background call to action with text and buttons
* `showcase` -- like `home`, except that a default header is used, followed by a `cards` block whose properties are derived from the page.  Additional blocks can be specified in `blocks`, that will appear after the cards block.  This makes it easy to create testimonial pages, customer sites, etc.

#### Book Content Type

* `single`, `list` -- Automatically used for pages and sections of `type: book`, this layout displays a left-side navigation menu from the book's chapters, and a right-side table of contents for the current page
* `overview` -- Pages using this layout will display an overview of the book as grid of cards, one for each chapter, with the chapter's title and summary

#### Blog Content Type

* `single` -- Automatically used for posts of `type: blog`; displays next/previous navigation and a hero image from the `image` front-matter, if present.  If a `thumbnail` property is set, that image will be used in the blog's home page listing.
* `list` -- Automatically used for sections of `type: blog`; displays a reverse-chronological list of pages in that section, paginated with Hugo pagination.  Posts are shown with a thumbnail (if set), title, and summary.

## Social Links

To display social icons in the footer, update the `social.json` file located in the `data` folder. You can use any icon supported by [Font Awesome](https://fontawesome.com/icons?d=gallery&s=brands) and just need to specify the appropriate Font Awesome class name as the `icon` value.

## Color palettes

Libris supports the following color palettes by default:

- blue (default)
- green
- navy
- violet

To change the color palette, update the `palette` variable under `params` in config.yaml, or set it on individual pages (or parts of your site with `cascade:`).

You can also define custom palettes (or redefine the built-in ones) in your site's `params`, like this:

```yaml
params:
  palette/magenta:
    sass:
      accent1: "#841099"  # used for links and quote/highlight bars, right side of hero gradient
      accent2: "#910057"  # used for left side of hero gradient
```

And then use them by setting e.g. `palette: magenta` either in the site params, the params of an individual page, or a `cascade:` to set the default for an entire section of your site.

(Note: palettes' color schemes can only be defined globally for the site, as each one used in the site generates its own style sheet, named after the palette.  So for example, if the above `magenta` palette is used in the site, an  `/assets/css/main-magenta.css` file is generated, and shared by all pages using that palette.)

## Credits

- [Lato](https://fonts.google.com/specimen/Lato). Licensed under the [Open Font License](http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL_web).
- [Font Awesome icons](https://fontawesome.com/). Licensed under the [Font Awesome Free License](https://fontawesome.com/license/free).
- [Unsplash images](https://unsplash.com/). Licensed under the (Unsplash License)[https://unsplash.com/license].
- [Prism syntax highlighter](https://prismjs.com/). Licensed under the (MIT License)[https://opensource.org/licenses/MIT].
- [Reframe.js](https://github.com/dollarshaveclub/reframe.js). Licensed under the (MIT License)[https://opensource.org/licenses/MIT].
- [Smooth Scroll](http://github.com/cferdinandi/smooth-scroll). Licensed under the (MIT License)[https://opensource.org/licenses/MIT].
- [Gumshoe](https://github.com/cferdinandi/gumshoe). Licensed under the (MIT License)[https://opensource.org/licenses/MIT].
- [clipboard.js](https://zenorocha.github.io/clipboard.js). Licensed under the (MIT License)[https://opensource.org/licenses/MIT].
